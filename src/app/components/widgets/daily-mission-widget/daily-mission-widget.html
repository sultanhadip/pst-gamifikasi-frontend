<div class="widget-card">
    <div class="widget-header">
        <span class="icon-target">ðŸŽ¯</span>
        <h4>MISI HARIAN</h4>
        <span class="widget-expand">â†•</span>
    </div>
    <div class="widget-body">
        <div *ngIf="missions().length === 0" class="no-missions">
            Tidak ada misi hari ini.
        </div>
        
        <div *ngFor="let m of missions()" class="mission-item" [class.completed]="m.isCompleted">
            <div class="mission-icon">{{ m.isCompleted ? 'âœ…' : 'âš¡' }}</div>
            <div class="mission-info">
                <div class="mission-title" [class.success]="m.isCompleted">
                    {{ m.mission.title }}
                </div>
                
                <ng-container *ngIf="!m.isCompleted">
                    <div class="progress-bar">
                        <div class="progress yellow" [style.width.%]="(m.currentCount / m.mission.requiredCount) * 100"></div>
                    </div>
                    <div class="mission-stats">{{ m.currentCount }}/{{ m.mission.requiredCount }}</div>
                </ng-container>

                <button *ngIf="m.isCompleted && !m.isClaimed" (click)="claimReward(m)" class="btn-claim">
                    CLAIM REWARD
                </button>
                <div *ngIf="m.isClaimed" class="claimed-text">Reward diklaim!</div>
            </div>
        </div>
    </div>
</div>