<div class="page-container">
    <!-- Main Content -->
    <div class="main-content">
        <div class="page-header-center">
            <h2 class="page-title">Semua Misi</h2>
        </div>

        <div class="mission-categories">
            <div class="category-section" *ngFor="let cat of categories">
                <h3 class="category-title">{{ cat.title }}</h3>

                <div class="mission-items-list">
                    <div class="mission-item-card" *ngFor="let m of cat.missions" [class.completed-card]="m.completed">
                        <div class="mission-left">
                            <div class="mission-icon" *ngIf="!m.completed">⚡</div>
                            <div class="mission-icon completed-badge" *ngIf="m.completed">
                                <div class="badge-star">✔</div>
                            </div>
                        </div>

                        <div class="mission-right">
                            <div class="mission-top-row">
                                <div class="title-status">
                                    <h4>{{ m.title }}</h4>
                                    <span class="status-pill-green" *ngIf="m.completed">Selesai</span>
                                </div>
                                <div class="mission-stats-text">
                                    {{ m.unit }}: {{ m.progress }}/{{ m.total }}
                                </div>
                            </div>

                            <div class="mission-progress-bar">
                                <div class="progress-fill yellow"
                                    [style.width.%]="(m.progress / m.total) * 100 > 100 ? 100 : (m.progress / m.total) * 100">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Right Widgets -->
    <div class="right-widgets">
        <app-stats-ribbon></app-stats-ribbon>
        <app-kegiatan-bps-widget></app-kegiatan-bps-widget>
    </div>
</div>