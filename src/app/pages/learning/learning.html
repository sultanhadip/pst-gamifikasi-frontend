<div class="learning-container">
    <!-- Main Content Area -->
    <div class="main-content">
        <div class="top-bar">
            <button class="btn-back">‚Üê</button>
            <h2 class="page-title">{{ activeCourse()?.title || 'Loading...' }}</h2>
        </div>

        <div class="course-header-card" *ngIf="activeUnit()">
            <div class="card-content">
                <h3>Unit Active</h3>
                <p>{{ activeUnit().title }}</p>
                <small *ngIf="lessons().length > 0">{{ lessons().length }} Pelajaran Tersedia</small>
            </div>
            <button class="btn-continue" *ngIf="lessons().length > 0" [routerLink]="['/learning/quiz', lessons()[0].id]">
                <span class="icon">üìù</span> LANJUTKAN
            </button>
        </div>

        <div class="pdf-banner" *ngIf="activeCourse()">
            <button class="btn-pdf">üìñ KURIKULUM & MATERI PDF</button>
        </div>

        <div class="learning-path">
            <div *ngFor="let unit of units(); let i = index; let last = last">
                <div class="path-node" [class.start-node]="i === 0">
                    <span *ngIf="i === 0" class="badge-start">MULAI</span>
                    
                    <div class="node-circle" 
                         [class.active]="activeUnit()?.id === unit.id" 
                         [class.unlocked]="!unit.isLocked"
                         [class.locked]="unit.isLocked"
                         [class.boss]="unit.unlockCost > 0"
                         (click)="selectUnit(unit)">
                        <span>{{ i % 2 === 0 ? '‚≠ê' : 'üëë' }}</span>
                        <div *ngIf="unit.isLocked" class="lock-overlay">
                            üîí {{ unit.unlockCost }}
                        </div>
                    </div>
                    <div class="node-title">{{ unit.title }}</div>
                </div>
                
                <div *ngIf="!last" class="path-line" [class.active]="!unit.isLocked"></div>
            </div>
        </div>
    </div>

    <!-- Right Widgets Area -->
    <div class="right-widgets">
        <app-stats-ribbon></app-stats-ribbon>
        <app-kegiatan-bps-widget></app-kegiatan-bps-widget>
        <app-daily-mission-widget></app-daily-mission-widget>
    </div>
</div>